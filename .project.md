Below is your **GitHub Classroom Autograding Setup** *and* your **Starter Code Template** for the TS.3 + TS.4 â€œShowcase Expressâ€ Portfolio API project.

Everything is fully aligned to TS.3 + TS.4 competencies using your frameworks:

* TS.3 Web Server Services Framework 
* TS.4 Database Framework 

The autograding setup uses **Vitest** + **GitHub Classroom Autograder** conventions.

All sections are written so you can **copy/paste directly into a GitHub assignment repo**.

---

# ğŸ“ **1. GitHub Classroom Autograding Setup**

GitHub Classroom supports autograding through a `/.github/classroom/autograding.json` file and a test runner (Vitest).

Below is the **autograding.json** you should include.

---

## âœ… **`.github/classroom/autograding.json`**

```json
{
  "tests": [
    {
      "name": "API - Returns all projects",
      "setup": "npm install",
      "run": "npm test -- -t=\"GET /api/projects returns list\"",
      "input": "",
      "output": "",
      "comparison": "included",
      "timeout": 30
    },
    {
      "name": "API - Returns project by ID",
      "setup": "npm install",
      "run": "npm test -- -t=\"GET /api/projects/:id returns project\"",
      "input": "",
      "output": "",
      "comparison": "included",
      "timeout": 30
    },
    {
      "name": "Database - Project model exists",
      "setup": "npm install",
      "run": "npm test -- -t=\"Project model exists in schema\"",
      "input": "",
      "output": "",
      "comparison": "included",
      "timeout": 30
    }
  ],
  "version": 0
}
```

---

## ğŸ“¦ **2. Autograder Test Files (Vitest)**

Create a folder:

```
/tests
```

### **`tests/api.test.js`**

```js
import { describe, it, expect } from "vitest";

describe("GET /api/projects returns list", () => {
  it("should return an array of projects", async () => {
    const res = await fetch("http://localhost:3000/api/projects");
    const data = await res.json();

    expect(Array.isArray(data)).toBe(true);
    expect(data.length).toBeGreaterThan(0);
  });
});

describe("GET /api/projects/:id returns project", () => {
  it("should return one project", async () => {
    const res = await fetch("http://localhost:3000/api/projects/1");
    const data = await res.json();

    expect(data).toHaveProperty("id");
    expect(data.id).toBe(1);
  });
});
```

### **`tests/db.test.js`**

```js
import { describe, it, expect } from "vitest";
import { PrismaClient } from "@prisma/client";

const prisma = new PrismaClient();

describe("Project model exists in schema", () => {
  it("should read from Project table", async () => {
    const projects = await prisma.project.findMany();
    expect(Array.isArray(projects)).toBe(true);
  });
});
```

---

# ğŸš€ **3. Starter Code Template (Complete Repo Scaffold)**

This is a **ready-to-create GitHub repo structure** for the Classroom assignment.

Students can clone and immediately run:

```
npm install
npm run dev
```

---

## ğŸ“ **Repository Structure**

```
ğŸ“ portfolio-api/
â”‚
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma
â”‚   â””â”€â”€ seed.js
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ page.js
â”‚   â”‚   â”œâ”€â”€ layout.js
â”‚   â”‚   â”œâ”€â”€ projects/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.js
â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚       â””â”€â”€ page.js
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ projects/
â”‚   â”‚       â”‚   â””â”€â”€ route.js
â”‚   â”‚       â””â”€â”€ projects/[id]/
â”‚   â”‚           â””â”€â”€ route.js
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ api.test.js
â”‚   â””â”€â”€ db.test.js
â”‚
â”œâ”€â”€ .github/classroom/autograding.json
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

# ğŸ“„ **Starter Code Files**

Below are the minimal required files to make the project run immediately.

---

## ğŸ—‚ **package.json**

```json
{
  "name": "portfolio-api",
  "version": "1.0.0",
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "test": "vitest run"
  },
  "dependencies": {
    "next": "14.0.0",
    "react": "18.2.0",
    "react-dom": "18.2.0",
    "@prisma/client": "latest"
  },
  "devDependencies": {
    "prisma": "latest",
    "vitest": "latest"
  }
}
```

---

## ğŸ—‚ **prisma/schema.prisma**

```prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Project {
  id          Int      @id @default(autoincrement())
  title       String
  description String
  image       String?
  url         String?
  createdAt   DateTime @default(now())
}
```

---

## ğŸ—‚ **prisma/seed.js**

```js
import { PrismaClient } from "@prisma/client";
const prisma = new PrismaClient();

async function main() {
  await prisma.project.createMany({
    data: [
      {
        title: "Weather App",
        description: "A simple weather app built with Next.js",
        image: "/weather.png"
      },
      {
        title: "Task Manager",
        description: "A task tracking app.",
        image: "/tasks.png"
      }
    ]
  });
}

main()
  .then(() => prisma.$disconnect())
  .catch((e) => {
    console.error(e);
    prisma.$disconnect();
  });
```

---

# ğŸŒ **API Routes**

## ğŸ—‚ `/src/app/api/projects/route.js`

```js
import { PrismaClient } from "@prisma/client";
const prisma = new PrismaClient();

export async function GET() {
  const projects = await prisma.project.findMany();
  return Response.json(projects);
}
```

---

## ğŸ—‚ `/src/app/api/projects/[id]/route.js`

```js
import { PrismaClient } from "@prisma/client";
const prisma = new PrismaClient();

export async function GET(_, { params }) {
  const id = Number(params.id);

  const project = await prisma.project.findUnique({
    where: { id }
  });

  if (!project) {
    return new Response(JSON.stringify({ error: "Not found" }), {
      status: 404
    });
  }

  return Response.json(project);
}
```

---

# ğŸ§­ **Front-End Pages**

These are included so autograder fetch calls succeed.

## `/src/app/projects/page.js`

```js
export default async function ProjectsPage() {
  const res = await fetch("http://localhost:3000/api/projects");
  const projects = await res.json();

  return (
    <div>
      <h1>Projects</h1>
      {projects.map((p) => (
        <div key={p.id}>
          <a href={`/projects/${p.id}`}>{p.title}</a>
        </div>
      ))}
    </div>
  );
}
```

---

## `/src/app/projects/[id]/page.js`

```js
export default async function ProjectDetail({ params }) {
  const res = await fetch(
    `http://localhost:3000/api/projects/${params.id}`
  );
  const project = await res.json();

  return (
    <div>
      <h1>{project.title}</h1>
      <p>{project.description}</p>
    </div>
  );
}
```

---

# ğŸ§ª **Setup Script for Students**

Add to README:

```bash
npm install
npx prisma migrate dev --name init
node prisma/seed.js
npm run dev
```

---

# ğŸ‰ **Everything You Need for GitHub Classroom Is Ready**

Would you like me to also generate:

### âœ… **A GitHub README.md template** (TS-aligned rubric included)

### âœ… **Instructor Version with Grading Notes**

### âœ… **A Notion-ready version**

### âœ… **A Slide Deck Outline for teaching this lesson**

Just tell me which deliverable to produce next.
